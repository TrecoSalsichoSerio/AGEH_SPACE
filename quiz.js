// MONTAGEM DAS QUESTOES : Nível 1 Fácil
const questoes = [
    {
        title: "Qual é o nome do nosso planeta?",
        level: "Fácil",
        alternativas: [
            {
                name: "Marte",
                value: "0"
            },
            {
                name: "Terra",
                value: "1"
            },
            {
                name: "Venus",
                value: "0"
            },
            {
                name: "Júpter",
                value: "0"
            },  
        ]
    },
    {
        title: "Qual é o maior planeta do Sistema Solar?",
        level: "Fácil",
        alternativas: [
            {
                name: "Saturno",
                value: "0"
            },
            {
                name: "Terra",
                value: "0"
            },
            { 
                name: "Júpter",
                value: "1"
            },
            {
                name: "Urano",
                value: "0"
            },  
        ]
    },
    {
        title: "Em que planeta a Terra gira ao redor?",
        level: "Fácil",
        alternativas: [
            {
                name: "Marte",
                value: "0"
            },
            {
                name: "Vênus",
                value: "0"
            },
            {
                name: "Júpter",
                value: "0"
            },
            {
                name: "Sol",
                value: "1"
            },  
        ]
    },
    {
        title: "O que é a Lua para a Terra?",
        level: "Fácil",
        alternativas: [
            {
                name: "Um planeta",
                value: "0"
            },
            {
                name: "Um cometa",
                value: "0"
            },
            {
                name: "Um satélite",
                value: "1"
            },
            {
                name: "Uma estrela",
                value: "0"
            },  
        ]
    },
    {
        title: "Quantos planetas existem no Sistema Solar?",
        level: "Fácil",
        alternativas: [
            {
                name: "8",
                value: "1"
            },
            {
                name: "9",
                value: "0"
            },
            {
                name: "7",
                value: "0"
            },
            {
                name: "6",
                value: "0"
            },  
        ]
    },
    {
        title: "Qual planeta é conhecido como o 'planeta vermelho'?",
        level: "Fácil",
        alternativas: [
            {
                name: "Vênus",
                value: "0"
            },
            {
                name: "Marte",
                value: "1"
            },
            {
                name: "Saturno",
                value: "0"
            },
            {
                name: "Mercúrio",
                value: "0"
            },  
        ]
    },
    {
        title: "Qual é o nome do nosso satélite natural?",
        level: "Fácil",
        alternativas: [
            {
                name: "fobos",
                value: "0"
            },
            {
                name: "Titã",
                value: "0"
            },
            {
                name: "Lua",
                value: "1"
            },
            {
                name: "Ío",
                value: "0"
            },  
        ]
    },
    {
        title: "O que o Sol é para o Sistema Solar?",
        level: "Fácil",
        alternativas: [
            {
                name: "Uma estrela",
                value: "1"
            },
            {
                name: "Um planeta",
                value: "0"
            },
            {
                name: "Um satélite",
                value: "0"
            },
            {
                name: "Um cometa",
                value: "0"
            },  
        ]
    },
    {
        title: "Em que planeta chove diamantes (segundo os cientistas)?",
        level: "Fácil",
        alternativas: [
            {
                name: "Júpter",
                value: "0"
            },
            {
                name: "Netuno",
                value: "1"
            },
            {
                name: "Venus",
                value: "0"
            },
            {
                name: "Saturno",
                value: "0"
            },  
        ]
    },
    {
        title: "Qual é o nome do planeta mais próximo do Sol?",
        level: "Fácil",
        alternativas: [
            {
                name: "Vênus",
                value: "0"
            },
            {
                name: "Terra",
                value: "0"
            },
            {
                name: "Mercúrio",
                value: "1"
            },
            {
                name: "Marte",
                value: "0"
            },  
        ]
    },

    //Nível 2 médio

    {
        title: "Qual planeta é conhecido por ter anéis visíveis ao redor dele?",
        level: "médio",
        alternativas: [
            {
                name: "Saturno",
                value: "1"
            },
            {
                name: "Urano",
                value: "0"
            },
            {
                name: "Marte",
                value: "0"
            },
            {
                name: "Júpter",
                value: "0"
            },  
        ]
    },
    {
        title: "O que é a 'zona habitável' no Sistema Solar?",
        level: "médio",
        alternativas: [
            {
                name: "A área onde os planetas gasosos estão localizados",
                value: "0"
            },
            {
                name: "A região onde a água líquida pode existir",
                value: "1"
            },
            {
                name: "A área entre os anéis de Saturno",
                value: "0"
            },
            {
                name: "A região onde há atividade vulcânica",
                value: "0"
            },  
        ]
    },
    {
        title: "Qual é o planeta mais distante do Sol?",
        level: "médio",
        alternativas: [
            {
                name: "Netuno",
                value: "1"
            },
            {
                name: "Urano",
                value: "0"
            },
            {
                name: "Plutão",
                value: "0"
            },
            {
                name: "Saturno",
                value: "0"
            },  
        ]
    },
    {
        title: "Quais são os dois planetas gasosos conhecidos como gigantes gasosos?",
        level: "médio",
        alternativas: [
            {
                name: "Jupter e Saturno",
                value: "1"
            },
            {
                name: "Marte e Vênus",
                value: "0"
            },
            {
                name: "Terra e Urano",
                value: "0"
            },
            {
                name: "Júpter e Netuno",
                value: "0"
            },  
        ]
    },
    {
        title: "Qual é a principal característica da atmosfera de Vênus?",
        level: "médio",
        alternativas: [
            {
                name: "Presença de oxigênio",
                value: "0"
            },
            {
                name: "Camada espessa de nuvens ácidas",
                value: "1"
            },
            {
                name: "Composta principalmente de nitrogênio",
                value: "0"
            },
            {
                name: "Alta concentração de dióxido de carbono",
                value: "0"
            },  
        ]
    },
    {
        title: "Qual é a temperatura média da superfície de Mercúrio?",
        level: "médio",
        alternativas: [
            {
                name: "100°C",
                value: "0"
            },
            {
                name: "500°C",
                value: "1"
            },
            {
                name: "150°C",
                value: "0"
            },
            {
                name: "250°C",
                value: "0"
            },  
        ]
    },
    {
        title: "Qual planeta tem a maior lua do Sistema Solar?",
        level: "médio",
        alternativas: [
            {
                name: "Júpter",
                value: "1"
            },
            {
                name: "Saturno",
                value: "0"
            },
            {
                name: "Netuno",
                value: "0"
            },
            {
                name: "Urano",
                value: "0"
            },  
        ]
    },
    {
        title: "O que é o cinturão de asteroides e onde ele está localizado?",
        level: "médio",
        alternativas: [
            {
                name: "Uma região entre Marte e Júpiter",
                value: "1"
            },
            {
                name: "Uma região entre Vênus e Terra",
                value: "0"
            },
            {
                name: "Uma região próxima a Netuno",
                value: "0"
            },
            {
                name: "Uma região fora de Plutão",
                value: "0"
            },  
        ]
    },
    {
        title: "Quais planetas no Sistema Solar têm luas?",
        level: "médio",
        alternativas: [
            {
                name: "Terra e Marte",
                value: "0"
            },
            {
                name: "Jupter e Saturno",
                value: "0"
            },
            {
                name: "Mercúrio e Vênus",
                value: "0"
            },
            {
                name: "Todos os planetas exceto Mercúrio e Vênus",
                value: "1"
            },  
        ]
    },
    {
        title: "Qual é a principal diferença entre um planeta rochoso e um gigante gasoso?",
        level: "médio",
        alternativas: [
            {
                name: "A cor do planeta",
                value: "0"
            },
            {
                name: "A temperatura da superfície",
                value: "0"
            },
            {
                name: "A composição do interior",
                value: "1"
            },
            {
                name: "A presença de anéis",
                value: "0"
            },  
        ]
    },

    // NÍVEL 3 DIFÍCIL

    {
        title: "Em qual planeta a camada externa da atmosfera é mais pronunciada?",
        level: "Difícil",
        alternativas: [
            {
                name: "Presente principalmente em Júpiter",
                value: "0"
            },
            {
                name: "Mais pronunciada em Saturno",
                value: "0"
            },
            {
                name: "Mais pronunciada em Vênus",
                value: "0"
            },
            {
                name: "Mais pronunciada em Mercúrio",
                value: "1"
            },  
        ]
    },
    {
        title: "Qual é a principal razão para Plutão ter sido reclassificado como 'planeta anão' em 2006?",
        level: "Difícil",
        alternativas: [
            {
                name: "Plutão não tem satélites",
                value: "0"
            },
            {
                name: "Plutão não orbita diretamente ao redor do Sol",
                value: "0"
            },
            {
                name: "Plutão não conseguiu limpar sua órbita de outros objetos",
                value: "1"
            },
            {
                name: "Plutão não possui atmosfera",
                value: "0"
            },  
        ]
    },
    {
        title: "Qual é a composição principal dos anéis de Saturno?",
        level: "Difícil",
        alternativas: [
            {
                name: "Gelo e Rochas",
                value: "1"
            },
            {
                name: "Poeira e Gás",
                value: "0"
            },
            {
                name: "Fumaça e Vapor",
                value: "0"
            },
            {
                name: "Apenas Rochas",
                value: "0"
            },  
        ]
    },
    {
        title: "Qual é o nome do fenômeno que ocorre quando um planeta parece 'voltar' em seu caminho no céu (movimento retrógrado)?",
        level: "Difícil",
        alternativas: [
            {
                name: "Eclipse",
                value: "0"
            },
            {
                name: "Retrocesso Planetário",
                value: "0"
            },
            {
                name: "Movimento retrógrado",
                value: "1"
            },
            {
                name: "Reversão orbital",
                value: "0"
            },  
        ]
    },
    {
        title: "Quais são os principais componentes da atmosfera de Júpiter?",
        level: "Difícil",
        alternativas: [
            {
                name: "Nitrogênio e oxigênio",
                value: "0"
            },
            {
                name: "Hidrogênio e hélio",
                value: "1"
            },
            {
                name: "Metano e dióxido de carbono",
                value: "0"
            },
            {
                name: "Água e amônia",
                value: "0"
            },  
        ]
    },
    {
        title: "O que é a Grande Mancha Vermelha em Júpiter?",
        level: "Difícil",
        alternativas: [
            {
                name: "Uma tempestade permanente",
                value: "1"
            },
            {
                name: "Uma cratera formada por meteoritos",
                value: "0"
            },
            {
                name: "Uma área de atividade vulcânica",
                value: "0"
            },
            {
                name: "Uma região de baixa pressão",
                value: "0"
            },  
        ]
    },
    {
        title: "Qual planeta tem a maior inclinação axial do Sistema Solar, resultando em um eixo de rotação muito inclinado?",
        level: "Difícil",
        alternativas: [
            {
                name: "Urano",
                value: "1"
            },
            {
                name: "Vênus",
                value: "0"
            },
            {
                name: "Saturno",
                value: "0"
            },
            {
                name: "Netuno",
                value: "0"
            },  
        ]
    },
    {
        title: "Qual é o nome do maior vulcão do Sistema Solar e onde ele está localizado?",
        level: "Difícil",
        alternativas: [
            {
                name: "Monte Etna, na Terra",
                value: "0"
            },
            {
                name: "Olympus Mons, em Marte",
                value: "1"
            },
            {
                name: "Mauna Loa, na Terra",
                value: "0"
            },
            {
                name: "Vulcão de Io, em Júpiter",
                value: "0"
            },  
        ]
    },
    {
        title: "Como destinguir cometas de longo e de curto período?",
        level: "Difícil",
        alternativas: [
            {
                name: "Os de longo período têm órbitas mais longas e menos previsíveis",
                value: "1"
            },
            {
                name: "Os de longo período orbitam dentro da zona habitável",
                value: "0"
            },
            {
                name: "Os de longo período nunca voltam ao Sistema Solar",
                value: "0"
            },
            {
                name: "Os de longo período não têm cauda",
                value: "0"
            },  
        ]
    },
    {
        title: "Como as auroras boreais e austrais se formam?",
        level: "Difícil",
        alternativas: [
            {
                name: "Quando partículas solares interagem com a atmosfera",
                value: "1"
            },
            {
                name: "Quando a luz do Sol é refletida pelos anéis de Saturno",
                value: "0"
            },
            {
                name: "Quando a Lua reflete a luz do Sol sobre os polos",
                value: "0"
            },
            {
                name: "Quando meteoros entram na atmosfera de Vênus",
                value: "0"
            },  
        ]
    },

]


// CRIACAO E EMBARALHAMENTO DAS QUESTOES
window.addEventListener("DOMContentLoaded", ()=>{
    
    let contador = 1
    let questoes_embaralhadas = questoes.sort(()=> {
        return Math.random() - 0.5
    })

    while(true){
        let text = `Escolha entre 1, 2 e 3 para selecionar os níveis.
1 - Fácil 
2 - Médio 
3 - Difícil`
        let prompte = prompt(text)
        if (prompte.toLowerCase()=="fácil" || prompte.toLowerCase()=="1"){
            questoes_embaralhadas = questoes_embaralhadas.filter(quest => quest.level == "Fácil")
            break
        }else if(prompte.toLowerCase()=="médio" || prompte.toLowerCase()=="2"){
            questoes_embaralhadas = questoes_embaralhadas.filter(quest => quest.level == "médio")
            break
        }else if(prompte.toLowerCase()=="difícil" || prompte.toLowerCase()=="3"){
            questoes_embaralhadas = questoes_embaralhadas.filter(quest => quest.level == "Difícil")
            break
        }else{
            window.alert("Opção Inválida")
        }
    }

    questoes_embaralhadas.forEach(questao=>{
        const div_questao = document.createElement('div')
        div_questao.classList.add('questao')

        const p_texto = document.createElement('p')
        p_texto.textContent = questao.title

        div_questao.appendChild(p_texto)

        let alternativas_embaralhadas = questao.alternativas.sort(()=> {
            return Math.random() - 0.5
        })

        alternativas_embaralhadas.forEach(alternativa=>{
            const label = document.createElement('label')
            label.classList.add('mabel')

            const input = document.createElement('input')
            input.value = alternativa.value
            input.name = "q" + contador
            input.type = "radio"
            
            label.appendChild(input)
            label.innerHTML += " - "+alternativa.name
            
            div_questao.append(label)
        })
        
        contador ++
        document.querySelector(".quests").append(div_questao)
        console.log(div_questao)
    })

        
    document.getElementById("enviarQuiz").addEventListener("click", verificarRespostas);
})



// ORGANIZACAO DA PONTUACAO

function verificarRespostas(){
    document.querySelectorAll(".questao").forEach(div=>{
        div.classList.remove("not-selected-div")
    })
    for(let i=1; i <= document.querySelectorAll(".questao").length; i++){
        if (document.querySelector(`input[name=q${i}]:checked`)==undefined) {
            document.querySelector(`input[name=q${i}]`).parentElement.parentElement.classList.add("not-selected-div")
            setTimeout(()=>{
                alert(`Marque todas as questões - Questão número ${i}`)
            }, 100)
            return
        }
    }
    let pontos = 0;

    const inputSelecionados = document.querySelectorAll('input:checked')
    inputSelecionados.forEach((input)=> {
        pontos += Number(input.value) 
        let class_input = input.value == "0"? "erro": "hulk"
        input.parentElement.parentElement.classList.add(class_input)
    })
    
    new alertUser(`Você marcou: ${pontos} pontos.`, "certo")

}

   class alertUser {
  constructor(text, cssClass) {
    this.text = text;
    this.cssClass = cssClass;
    this.father = document.querySelector(".spanAlerts");
    this.element = this.contructItself();
    this.addElementToDoc();
    const destruct = () => {
        this.destructItself();
        setTimeout(()=>{
            window.removeEventListener("click", destruct)
        }, 100)
    }
    setTimeout(()=>{
        window.addEventListener("click", destruct)
    }, 1000)
  }
  contructItself() {
    const div = document.createElement("div");
    const p = document.createElement("p");
    p.innerHTML = this.text;
    div.classList.add("alertContainer");
    div.classList.add(this.cssClass);
    div.appendChild(p);
    return div;
  }
  addElementToDoc() {
    this.father.appendChild(this.element);
  }
  destructItself() {
    this.father.removeChild(this.element);
  }
}